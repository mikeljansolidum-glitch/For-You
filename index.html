<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Kiarra</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&family=Great+Vibes&family=Pacifico&display=swap" rel="stylesheet">
    <style>
        :root { --pink: #ff4d6d; --deep-pink: #c9184a; --soft-pink: #ffb3c1; --gold: #ffd700; --bg: #fff0f3; }
        
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body, html { margin: 0; padding: 0; background: var(--bg); font-family: 'Dancing Script', cursive; overflow-x: hidden; scroll-behavior: smooth; }

        /* --- ELEVATED DYNAMIC BACKGROUND --- */
        #bg-canvas { position: fixed; inset: 0; z-index: -1; background: linear-gradient(180deg, #fff0f3 0%, #fce4ec 100%); }
        .floating-heart { position: absolute; opacity: 0.4; pointer-events: none; animation: floatUp var(--d) linear infinite; filter: blur(1px); }
        @keyframes floatUp { 
            0% { transform: translateY(110vh) scale(0.5) rotate(0deg); opacity: 0; }
            20% { opacity: 0.6; }
            100% { transform: translateY(-20vh) scale(1.2) rotate(360deg); opacity: 0; }
        }

        /* --- COVER PAGE --- */
        #cover-page { 
            height: 100dvh; display: flex; flex-direction: column; justify-content: center; 
            align-items: center; text-align: center; transition: 1.5s cubic-bezier(0.7, 0, 0.3, 1);
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 70%);
        }
        .main-bouquet { font-size: 120px; cursor: pointer; animation: floating 3s infinite ease-in-out; filter: drop-shadow(0 20px 30px rgba(255,77,109,0.4)); }

        /* --- CURSIVE TYPEWRITER LOGIC --- */
        .cursive-msg { font-family: 'Great Vibes', cursive; font-size: 2.2rem; line-height: 1.4; color: var(--deep-pink); }
        .typewriter span { opacity: 0; display: inline-block; transform: translateY(10px); animation: charFade 0.1s forwards; }
        .typewriter span.space { margin-right: 0.35em; }
        @keyframes charFade { to { opacity: 1; transform: translateY(0); } }

        /* --- GLASS DESIGN & SCROLL REVEAL --- */
        #main-content { display: none; flex-direction: column; align-items: center; padding: 60px 20px; gap: 60px; }
        .glass-card { 
            width: 100%; max-width: 500px; background: rgba(255, 255, 255, 0.4); 
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-radius: 50px; padding: 45px 30px; text-align: center; 
            border: 1px solid rgba(255,255,255,0.8);
            box-shadow: 0 25px 50px rgba(255, 77, 109, 0.15);
            opacity: 0; transform: translateY(60px) scale(0.95); transition: all 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .glass-card.reveal { opacity: 1; transform: translateY(0) scale(1); }

        /* --- FLOWER GRID --- */
        .flower-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 30px; }
        .flower-item { font-size: 2rem; animation: bounce 3s infinite ease-in-out; }
        .flower-item:nth-child(even) { animation-delay: 1.5s; }

        /* --- VALENTINE CHOICE --- */
        .btn-container { position: relative; height: 120px; display: flex; justify-content: center; align-items: center; margin-top: 20px; }
        .fancy-btn { padding: 20px 50px; border-radius: 60px; border: none; font-family: 'Pacifico'; font-size: 1.5rem; cursor: pointer; transition: 0.5s; }
        #yes-btn { background: var(--pink); color: white; box-shadow: 0 15px 30px rgba(255,77,109,0.5); }
        #yes-btn:hover { transform: scale(1.1) rotate(2deg); }
        #no-btn { background: #fff; color: #aaa; position: absolute; left: 65%; font-size: 1rem; padding: 10px 25px; }

        /* --- FINALE --- */
        #celebration { 
            display: none; position: fixed; inset: 0; background: radial-gradient(circle, #fff0f3, #f8bbd0); 
            z-index: 1000; flex-direction: column; align-items: center; justify-content: center; 
        }
        .char-group { display: flex; align-items: flex-end; gap: 40px; animation: popUp 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        .me-guy { font-size: 120px; cursor: pointer; transition: 0.3s; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.1)); }
        
        /* PURE CSS LABUBU - POLISHED */
        .labubu-css { width: 100px; height: 140px; position: relative; animation: waddle 0.8s infinite alternate ease-in-out; }
        .labubu-body { width: 90px; height: 100px; background: #ff85a1; border-radius: 45%; position: absolute; bottom: 0; border: 3px solid #333; }
        .labubu-face { width: 65px; height: 55px; background: #fffdf5; border-radius: 50%; position: absolute; top: 15px; left: 12px; border: 2px solid #333; }
        .labubu-ear { width: 25px; height: 55px; background: #ff85a1; border-radius: 50% 50% 0 0; position: absolute; top: -40px; border: 3px solid #333; }
        .ear-l { left: 15px; transform: rotate(-15deg); } .ear-r { right: 15px; transform: rotate(15deg); }
        .labubu-eye { width: 12px; height: 16px; background: #333; border-radius: 50%; position: absolute; top: 15px; }
        .eye-l { left: 15px; } .eye-r { right: 15px; }

        /* --- KEYFRAMES --- */
        @keyframes floating { 0%, 100% { transform: translateY(0) rotate(0); } 50% { transform: translateY(-20px) rotate(5deg); } }
        @keyframes bounce { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }
        @keyframes waddle { from { transform: rotate(-8deg); } to { transform: rotate(8deg); } }
        @keyframes popUp { from { transform: scale(0) translateY(100px); } to { transform: scale(1) translateY(0); } }
        .confetti { position: fixed; top: -50px; pointer-events: none; z-index: 1001; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(110vh) rotate(1080deg); opacity: 0; } }
    </style>
</head>
<body>

    <audio id="music" loop><source src="https://www.mboxdrive.com/PanaginipInstrumental.mp3" type="audio/mpeg"></audio>
    <div id="bg-canvas"></div>

    <div id="cover-page" onclick="init()">
        <div class="main-bouquet">üíê</div>
        <h1 style="font-family: 'Pacifico'; color: var(--pink); font-size: 4rem; margin: 20px 0;">Hi Kiarra!</h1>
        <p style="letter-spacing: 8px; font-weight: bold; color: var(--deep-pink); text-transform: uppercase; font-size: 0.9rem;">Tap to start our story</p>
    </div>

    <div id="main-content">
        <div class="glass-card">
            <h2 style="color: var(--pink); font-family: 'Pacifico'; font-size: 2rem;">Every Second With You...</h2>
            <div id="timer" style="font-size: 2.5rem; color: var(--deep-pink); font-weight: bold; margin: 20px 0;"></div>
            <p style="color: #888; font-style: italic;">Since January 17, 2026</p>
        </div>

        <div class="glass-card">
            <div class="cursive-msg typewriter" id="msg">
Dearest Kiarra,

Since the day we started this journey, my world has been a garden of joy. 
You are my favorite "Ngiti," and I cherish every single petal of your heart.
            </div>
            
            <div class="flower-grid">
                <div class="flower-item" title="Pink Lily">üå∏</div>
                <div class="flower-item" title="Tulip">üå∑</div>
                <div class="flower-item" title="Peony">üå∫</div>
                <div class="flower-item" title="Lotus">ü™∑</div>
                <div class="flower-item" title="Daisy">üåº</div>
                <div class="flower-item" title="Sunflower">üåª</div>
            </div>
        </div>

        <div class="glass-card" style="padding: 10px; overflow: hidden;">
            <iframe width="100%" height="300" src="https://www.youtube.com/embed/Hz0qYk1WDEU" frameborder="0" style="border-radius: 40px;"></iframe>
            <div style="padding: 20px;">
                <p style="font-weight: bold; color: var(--pink); font-size: 1.4rem; margin: 0;">Ngiti</p>
                <p style="color: #888; margin: 5px 0 0;">The Juans</p>
            </div>
        </div>

        <div class="glass-card" style="border: 2px solid var(--pink); background: rgba(255,255,255,0.6);">
            <h2 class="cursive-msg typewriter" id="q">Kiarra, will you be my Valentine?</h2>
            <div class="btn-container">
                <button id="yes-btn" class="fancy-btn" onclick="startFinale()">YES! ‚ù§Ô∏è</button>
                <button id="no-btn" class="fancy-btn" onmouseover="dodge()" ontouchstart="dodge()">No</button>
            </div>
        </div>
    </div>

    <div id="celebration">
        <h1 style="color: var(--pink); font-family: 'Pacifico'; font-size: 3rem; text-align: center; padding: 20px;">I'm the luckiest! üíñ</h1>
        <div class="char-group">
            <div class="labubu-css">
                <div class="labubu-ear ear-l"></div><div class="labubu-ear ear-r"></div>
                <div class="labubu-body">
                    <div class="labubu-face">
                        <div class="labubu-eye eye-l"></div><div class="labubu-eye eye-r"></div>
                    </div>
                </div>
            </div>
            <div class="me-guy" id="me" onclick="smile()">üë¶üèª</div>
        </div>
        <p style="color: var(--pink); font-weight: bold; margin-top: 30px; letter-spacing: 2px;">See you on the 14th! (Tap me!)</p>
    </div>

    <script>
        // 1. ELEVATED BACKGROUND HEARTS
        function createHearts() {
            const canvas = document.getElementById('bg-canvas');
            for(let i=0; i<30; i++) {
                const h = document.createElement('div');
                h.className = 'floating-heart'; h.innerHTML = '‚ù§Ô∏è';
                h.style.left = Math.random()*100+'vw';
                h.style.fontSize = (Math.random()*15+15)+'px';
                h.style.setProperty('--d', (Math.random()*6+4)+'s');
                h.style.animationDelay = Math.random()*5+'s';
                canvas.appendChild(h);
            }
        }
        createHearts();

        // 2. SCROLL REVEAL & CURSIVE TYPEWRITER
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('reveal');
                    const writer = entry.target.querySelector('.typewriter');
                    if (writer) applyTypewriter(writer.id);
                }
            });
        }, { threshold: 0.2 });

        function applyTypewriter(id) {
            const el = document.getElementById(id);
            if (el.dataset.done) return;
            const text = el.innerText; el.innerText = '';
            text.split('').forEach((char, i) => {
                const span = document.createElement('span');
                if (char === ' ') span.classList.add('space');
                span.innerText = char;
                span.style.animationDelay = (i * 0.05) + 's';
                el.appendChild(span);
            });
            el.dataset.done = "true";
        }

        function init() {
            document.getElementById('music').play().catch(()=>{});
            document.getElementById('cover-page').style.opacity = '0';
            document.getElementById('cover-page').style.transform = 'scale(2)';
            setTimeout(() => {
                document.getElementById('cover-page').style.display = 'none';
                document.getElementById('main-content').style.display = 'flex';
                document.querySelectorAll('.glass-card').forEach(card => observer.observe(card));
            }, 1000);
        }

        // 3. PRECISION TIMER
        function updateTimer() {
            const start = new Date("January 17, 2026 00:00:00").getTime();
            const diff = new Date().getTime() - start;
            const d = Math.floor(diff / 86400000);
            const h = Math.floor((diff % 86400000) / 3600000);
            const m = Math.floor((diff % 3600000) / 60000);
            const s = Math.floor((diff % 60000) / 1000);
            document.getElementById('timer').innerHTML = `${d}d ${h}h ${m}m ${s}s`;
        }
        setInterval(updateTimer, 1000);

        function dodge() {
            const btn = document.getElementById('no-btn');
            btn.style.left = Math.random()*70+'%';
            btn.style.top = (Math.random()*100 - 50)+'px';
        }

        // 4. FLOWER EXPLOSION
        function startFinale() {
            document.getElementById('main-content').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('main-content').style.display = 'none';
                document.getElementById('celebration').style.display = 'flex';
                
                const flowers = ['üå∏', 'üå∑', 'üå∫', 'ü™∑', 'üåº', 'üåª', '‚ú®', 'üíñ'];
                for(let i=0; i<100; i++) {
                    setTimeout(() => {
                        const c = document.createElement('div');
                        c.className = 'confetti';
                        c.innerHTML = flowers[Math.floor(Math.random()*flowers.length)];
                        c.style.left = Math.random()*100+'vw';
                        c.style.fontSize = (Math.random()*25+15)+'px';
                        c.style.animationDuration = (Math.random()*3 + 2)+'s';
                        document.body.appendChild(c);
                        setTimeout(() => c.remove(), 5000);
                    }, i * 50);
                }
            }, 500);
        }

        function smile() {
            const me = document.getElementById('me');
            me.innerText = 'üòä';
            me.style.transform = 'scale(1.3)';
            // Mini burst
            for(let i=0; i<5; i++) {
                const s = document.createElement('div');
                s.innerHTML = '‚ú®'; s.style.position = 'absolute';
                s.style.left = '50%'; s.style.top = '50%';
                s.style.transition = '1s';
                document.querySelector('.char-group').appendChild(s);
                setTimeout(() => {
                    s.style.transform = `translate(${(Math.random()-0.5)*200}px, -200px)`;
                    s.style.opacity = '0';
                }, 10);
            }
        }
    </script>
</body>
</html>
